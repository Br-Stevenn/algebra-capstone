<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <title>Estanterías</title>
  <style>
    * {
      box-sizing: border-box
    }

    body {
      margin: 0;
      overflow: hidden;
      font-family: system-ui
    }

    .ui {
      position: fixed;
      top: 12px;
      left: 12px;
      width: 380px;
      padding: 12px;
      background: #111a;
      color: #eee;
      backdrop-filter: blur(6px);
      border-radius: 12px
    }

    .row {
      display: flex;
      gap: 8px;
      margin: .5rem 0
    }

    textarea {
      width: 100%;
      height: 78px;
      resize: vertical;
      background: #0008;
      color: #fff;
      border: 1px solid #555;
      border-radius: 8px;
      padding: 8px
    }

    button,
    select,
    input {
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #444;
      background: #222;
      color: #fff
    }

    .hint {
      font-size: .85rem;
      color: #ccc
    }

    .pill {
      padding: 2px 8px;
      border: 1px solid #555;
      border-radius: 999px;
      font-size: .75rem
    }

    @media (max-width:1100px) {
      #resultsPanel {
        top: auto;
        bottom: 12px;
        width: 92vw;
        left: 4vw;
        right: auto
      }
    }
  </style>
</head>

<body>
  <div class="ui">
    <div class="row" style="justify-content:space-between;align-items:center">
      <div class="pill">R³→R³</div>
      <button id="resetBtn">Reset</button>
    </div>

    <label>Matriz Z (3x3 de ocupación)</label>
    <textarea id="matZ">[[1,1,1],[1,0,1],[-1,1,1]]</textarea>
    <!--
    <button id="loadZ">Cargar matriz Z</button>

    <label>Matriz 3x3 (R³→R³)</label>
    -->
    <textarea id="mat33" style="display:none;">[[0,0,1],[0,1,0],[-1,0,0]]</textarea>
    
    <button id="applyMat">Aplicar transformación</button>


    <label>Matriz resultado esperada (Nx3)</label>
    <textarea id="matResult" placeholder="Ej: [
      [-0.8,0.2,2.3]
      [-0.8,0.2,1.1]
      ...
    ]
    "></textarea>
    <div class="row">
      <button id="compareBtn">Comparar</button>
      <span class="hint" id="compareMsg"></span>
    </div>

    <div class="hint">
      <strong>Mover cámara:</strong>
      <div class="hint">
        Rotar en Y (Izquiera a derecha): J
      </div>
      <div class="hint">
        Rotar en Y (Derecha a izquierda): L
      </div>
      <div class="hint">
        Elevar la camara (Abajo a arriba): I
      </div>
      <div class="hint">
        Bajar la camara (Arriba a abajo): K
      </div>
      <div class="hint">
        Zoom in: U
      </div>
      <div class="hint">
        Zoom out: O
      </div>
    </div>
  </div>

  <div class="ui" id="resultsPanel" style="right:12px;left:auto;width:420px">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem">
      <strong>Resultados</strong>
      <button id="clearResults">Limpiar</button>
    </div>
    <div class="hint">Matriz ingresada</div>
    <pre id="mInfo" style="white-space:pre-wrap"></pre>
    <div class="hint">Posiciones de cajas (antes → después)</div>
    <div id="posTables" style="max-height:42vh;overflow:auto;font-size:.9rem"></div>
  </div>

  <script src="https://unpkg.com/mathjs@11.11.0/lib/browser/math.js"></script>
  <script type="module" src="./main.js"></script>
</body>

</html>